(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{25:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),o=c(18),r=c.n(o),n=(c(24),c(25),c(8)),l=c(7),i=c(2),d=c(0);var j=function(e){return Object(d.jsxs)("tr",{className:"position-relative",children:[Object(d.jsx)("th",{scope:"row",children:e.index+1}),Object(d.jsx)("td",{children:Object(d.jsx)(l.b,{className:"link-primary",to:"/shop/".concat(e.shop.id),children:e.shop.store})}),Object(d.jsx)("td",{children:e.shop.countryCode}),Object(d.jsx)("td",{children:e.shop.storeEmail}),Object(d.jsx)("td",{children:e.shop.storeMgr_FirstName+" "+e.shop.storeMgr_LastName}),Object(d.jsx)("td",{children:e.shop.storeMgr_Email}),Object(d.jsx)("td",{children:e.shop.category})]})},m=s.a.createContext(),h=function(){return Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:".5rem"},children:Object(d.jsx)("div",{className:"lds-dual-ring"})})};var b=function(e){var t=s.a.useContext(m).loadShop,c=e.shops,o=e.loading;return s.a.useEffect((function(){return t()}),[]),Object(d.jsx)(a.Fragment,{children:Object(d.jsxs)("div",{className:"p-3",children:[Object(d.jsx)(l.b,{className:"link-primary",to:"/new",children:"Add store"}),o&&Object(d.jsx)(h,{}),c.length?Object(d.jsxs)("table",{className:"table table-striped",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:"#"}),Object(d.jsx)("th",{scope:"col",children:"Store"}),Object(d.jsx)("th",{scope:"col",children:"\u0421ountry \u0441ode"}),Object(d.jsx)("th",{scope:"col",children:"Email"}),Object(d.jsx)("th",{scope:"col",children:"Manager"}),Object(d.jsx)("th",{scope:"col",children:"Manager email"}),Object(d.jsx)("th",{scope:"col",children:"Category"})]})}),Object(d.jsx)("tbody",{children:c.map((function(e,t){return Object(d.jsx)(j,{index:t,shop:e},e.id)}))})]}):o?null:Object(d.jsx)("p",{children:"No shops!"})]})})};function u(e){var t=s.a.useState(""),c=Object(n.a)(t,2),a=c[0],o=c[1];return Object(d.jsx)("nav",{className:"navbar navbar-light",style:{backgroundColor:"#e3f2fd"},children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)(l.b,{className:"navbar-brand",to:"/",children:"Shops"}),Object(d.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.b,{className:"nav-item nav-link",to:"/about",children:"About"})})}),Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search by Store","aria-label":"Search",onChange:function(e){return o(e.target.value)}}),Object(d.jsx)("button",{className:"btn btn-outline-success",onClick:function(t){e.filterList(a.trim())},children:"Search"})]})]})})}var p=c(11),x=c(16);var O=function(e){var t=Number(Object(i.g)().id),c=s.a.useState({}),o=Object(n.a)(c,2),r=o[0],l=o[1],j=s.a.useState(t>=0),b=Object(n.a)(j,2),u=b[0],O=b[1],f=s.a.useContext(m),g=f.getShop,v=f.updateShop,N=f.addShop,y=f.removeShop,S=s.a.useState(!1),k=Object(n.a)(S,2),_=k[0],C=k[1];function F(e){var t=e.target.id;l(Object(x.a)(Object(x.a)({},r),{},Object(p.a)({},t,e.target.value)))}return s.a.useEffect((function(){u&&(C(!0),g(t).then((function(e){return e.json()})).then((function(e){404===e.status?O(!1):(console.log(e),l(e)),C(!1)})))}),[]),Object(d.jsx)(a.Fragment,{children:_?Object(d.jsx)(h,{}):Object(d.jsxs)("form",{className:"row g-3 p-3",noValidate:!0,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),u?v(r):(r.id=0,N(r))},children:[Object(d.jsxs)("div",{className:"col-md-4 was-validated",children:[Object(d.jsx)("label",{htmlFor:"store",className:"form-label",children:"Store"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"store",value:r.store,required:!0,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-2 was-validated",children:[Object(d.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),Object(d.jsx)("input",{type:"number",min:"0",step:"1",className:"form-control",id:"category",value:r.category,required:!0,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-2 was-validated",children:[Object(d.jsx)("label",{htmlFor:"countryCode",className:"form-label",children:"\u0421ountry \u0441ode"}),Object(d.jsx)("input",{type:"text",maxlength:"2",className:"form-control",id:"countryCode",value:r.countryCode,required:!0,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-4 was-validated",children:[Object(d.jsx)("label",{htmlFor:"storeEmail",className:"form-label",children:"Email"}),Object(d.jsx)("input",{type:"email",className:"form-control",id:"storeEmail",value:r.storeEmail,required:!0,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-4 was-validated",children:[Object(d.jsx)("label",{htmlFor:"storeMgr_FirstName",className:"form-label",children:"Manager firstname"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"storeMgr_FirstName",value:r.storeMgr_FirstName,required:!0,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-4 was-validated",children:[Object(d.jsx)("label",{htmlFor:"storeMgr_LastName",className:"form-label",children:"Manager lastname"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"storeMgr_LastName",value:r.storeMgr_LastName,required:!0,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-4 was-validated",children:[Object(d.jsx)("label",{htmlFor:"storeMgr_Email",className:"form-label",children:"Manager email"}),Object(d.jsx)("input",{type:"email",className:"form-control",id:"storeMgr_Email",value:r.storeMgr_Email,required:!0,onChange:F})]}),Object(d.jsxs)("div",{className:"row g-3",children:[Object(d.jsxs)("div",{className:"col-md-2",children:[Object(d.jsx)("label",{htmlFor:"stock_Backstore",className:"form-label",children:"Stock backstore"}),Object(d.jsx)("input",{type:"number",min:"0",step:"1",className:"form-control",id:"stock_Backstore",value:r.stock_Backstore,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-2",children:[Object(d.jsx)("label",{htmlFor:"stock_Frontstore",className:"form-label",children:"Stock frontstore"}),Object(d.jsx)("input",{type:"number",min:"0",step:"1",className:"form-control",id:"stock_Frontstore",value:r.stock_Frontstore,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-2",children:[Object(d.jsx)("label",{htmlFor:"stock_ShoppingWindow",className:"form-label",children:"Stock shopping window"}),Object(d.jsx)("input",{type:"number",min:"0",step:"1",className:"form-control",id:"stock_ShoppingWindow",value:r.stock_ShoppingWindow,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-2",children:[Object(d.jsx)("label",{htmlFor:"stockAccuracy",className:"form-label",children:"Stock accuracy"}),Object(d.jsx)("input",{type:"number",min:"0",className:"form-control",id:"stockAccuracy",value:r.stockAccuracy,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-2",children:[Object(d.jsx)("label",{htmlFor:"onFloorAvailability",className:"form-label",children:"On floor availability"}),Object(d.jsx)("input",{type:"number",min:"0",className:"form-control",id:"onFloorAvailability",value:r.onFloorAvailability,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-2",children:[Object(d.jsx)("label",{htmlFor:"stock_MeanAge_days",className:"form-label",children:"Stock meanage days"}),Object(d.jsx)("input",{type:"number",min:"0",step:"1",className:"form-control",id:"stock_MeanAge_days",value:r.stock_MeanAge_days,onChange:F})]})]}),Object(d.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",children:u?"Update shop":"Add shop"}),u?Object(d.jsx)("button",{className:"btn btn-danger",type:"button",onClick:function(e){y(t),l({id:0,store:"",countryCode:"",storeEmail:"",storeMgr_FirstName:"",storeMgr_LastName:"",storeMgr_Email:"",category:"",stock_Backstore:0,stock_Frontstore:0,stock_ShoppingWindow:0,stockAccuracy:0,onFloorAvailability:0,stock_MeanAge_days:0}),O(!1)},children:"Delete"}):null]})]})})};var f=function(){var e=s.a.useState([]),t=Object(n.a)(e,2),c=t[0],a=t[1],o=s.a.useState([]),r=Object(n.a)(o,2),j=r[0],h=r[1],p=s.a.useState(!0),x=Object(n.a)(p,2),f=x[0],g=x[1];return Object(d.jsxs)(l.a,{children:[Object(d.jsx)(u,{filterList:function(e){var t=c.filter((function(t){return-1!==t.store.toLowerCase().search(e.toLowerCase())}));h(t)}}),Object(d.jsx)(m.Provider,{value:{getShop:function(e){return fetch("https://".concat(document.location.host,"/api/Shop/").concat(e),{method:"GET",mode:"cors"})},loadShop:function(){fetch("https://".concat(document.location.host,"/api/Shop")).then((function(e){return e.json()})).then((function(e){a(e),h(e),g(!1)}))},removeShop:function(e){return fetch("https://".concat(document.location.host,"/api/Shop/").concat(e),{method:"DELETE",mode:"cors"})},addShop:function(e){return fetch("https://".concat(document.location.host,"/api/Shop"),{method:"POST",mode:"cors",body:JSON.stringify(e),headers:{"Content-Type":"application/json;charset=utf-8"}})},updateShop:function(e){fetch("https://".concat(document.location.host,"/api/Shop/").concat(e.id),{method:"PUT",mode:"cors",body:JSON.stringify(e),headers:{"Content-Type":"application/json;charset=utf-8"}})}},children:Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.a,{from:"/index.html",to:"/"}),Object(d.jsx)(i.b,{exact:!0,path:"/",children:Object(d.jsx)(b,{shops:j,loading:f})}),Object(d.jsx)(i.b,{path:"/shop/:id",children:Object(d.jsx)(O,{})}),Object(d.jsx)(i.b,{path:"/new",children:Object(d.jsx)(O,{})})]})})]})};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.09c467e6.chunk.js.map